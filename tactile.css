/**
 *------
 * BGA framework: Gregory Isabelli & Emmanuel Colin & BoardGameArena
 * tactile implementation : Â© <Your name here> <Your email address here>
 *
 * This code has been produced on the BGA studio platform for use on http://boardgamearena.com.
 * See http://en.boardgamearena.com/#!doc/Studio for more information.
 * -----
 *
 * tactile.css
 *
 * tactile stylesheet
 *
 */

 *,
 *::before,
 *::after {
     box-sizing: border-box;
 }
 
 :root {
 
     --tile-dim: 75px;
     --num-tiles-to-offset: 4; /* change to 8 for colorblind tiles */
     --solid-tile-offset: calc(var(--tile-dim)*var(--num-tiles-to-offset) * -1); 
     --board-dim: calc(var(--tile-dim)*6 + (2px*6) + 20px);
     --card-width: 80px;
     --card-height: 120px;
     --store-width: calc((var(--card-width) + 5px ) * 3 + 20px);
     --action-board-width: 128px;
     --action-board-height: 183px;
     --action-board-selection-dim: 17px;
     --resource-dim: 25px;
     --resource-dim-highlighted: 28px;
 
     /* z-index values */
     --z-index-deck: 3 ;
 }
 
 .addSpace { margin: 5px; }
 .addSpaceSmall { margin: 2px; }
   
 #play_area_container {
     background-color: #0f0f0f;
 }
 
 /* Top container styles */
 #ttTopContainer {
     display: flex;
     height: var(--board-dim);
     margin-bottom: 20px;
    
 }
 
 /* Store styles */
 .store {
     position: absolute;
     display: flex;
     align-items: center;
     flex-direction: column;
     left: 10px;
     width: var(--store-width);
     height: var(--board-dim);
     background-color: #d3d3d3;  
     border-radius: 4px;
     margin-top: 10px;
 }
 
 /* Deck styles */
 .deck {
     z-index: var(--z-index-deck);
     height: var(--card-height);
     width: var(--card-width);
     background: url(img/card_back_small.png) 0 0;
     position: relative;
     box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
     border-radius: 4px;
     margin-top: 10px !important;
 }
 
 .deck::before,
 .deck::after {
     content: '';
     position: absolute;
     height: 100%;
     width: 100%;
     background: url(img/card_back_small.png) 0 0;
     box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
     border-radius: 4px;
 }
 
 .deck::before {
     top: -3px;
     left: -3px;
     z-index: calc(var(--z-index-deck) - 1);
 }
 
 .deck::after {
     top: -6px;
     left: -6px;
     z-index: calc(var(--z-index-deck) - 2);
 }
 
 .cardRow {
     width: 100%;
     display: flex;
     justify-content: space-between;
     align-items: center;
     flex-direction: row;
 }
 
 /* Board styles */
 .board {
     position: absolute;
     left: calc(var(--store-width) + 20px);
     width: var(--board-dim);
     height: var(--board-dim);
     background-color: #e0e0e0;
     margin-top: 10px;
     padding: 10px;
     font-size: 0; /* remove space between inline-block elements */
     border-radius:4px;
 }
 
 .playingPiece {
    position: absolute;
    top:0px;
    left: 0px;
    width: var(--tile-dim);
    height: var(--tile-dim);
    filter: drop-shadow(1px 4px 2px rgba(0,0,0,.6));
 }
 
 .playingPiece.red
 {
     background: url(img/player_pieces.png) 0 0 no-repeat;
 }
 
 .playingPiece.yellow
 {
     background: url(img/player_pieces.png) calc(var(--tile-dim) * -1) 0 no-repeat;
 }
 
 .playingPiece.green
 {
     background: url(img/player_pieces.png) calc(var(--tile-dim) * -2) 0 no-repeat;
 }
 
 .playingPiece.blue
 {
     background: url(img/player_pieces.png) calc(var(--tile-dim) * -3) 0 no-repeat;
 }
 
 .tile {
    position: relative;
     width: var(--tile-dim);
     height: var(--tile-dim);
     display: inline-block;
     margin: 1px;
 }
 
 .tile.redHome
 {
     background: url(img/tiles_small.png) 0 0 no-repeat;
     border: 1px solid black;
 }
 
 .tile.yellowHome
 {
     background: url(img/tiles_small.png) calc(var(--tile-dim) * -1) 0 no-repeat;
     border: 1px solid black;
 }
 
 .tile.greenHome
 {
     background: url(img/tiles_small.png) calc(var(--tile-dim) * -2) 0 no-repeat;
     border: 1px solid black;
 }
 
 .tile.blueHome
 {
     background: url(img/tiles_small.png) calc(var(--tile-dim) * -3) 0 no-repeat;
     border: 1px solid black;
 }
 
 .tile.red
 {
     background: url(img/tiles_small.png) var(--solid-tile-offset) 0 no-repeat;
 }
 
 .tile.yellow
 {
     background: url(img/tiles_small.png) calc(var(--solid-tile-offset) - var(--tile-dim))  no-repeat;
 }
 
 .tile.green
 {
     background: url(img/tiles_small.png) calc(var(--solid-tile-offset) - var(--tile-dim) * 2)  no-repeat;
 }
 
 .tile.blue
 {
     background: url(img/tiles_small.png) calc(var(--solid-tile-offset) - var(--tile-dim) * 3)  no-repeat;
 }
 
 /* resource styles */
 
 .bank {
     display: flex;
     justify-content: center;
     align-items: center;
     flex-direction: column;
     margin-top: 10px;
 }
 
 .resource {
     width: var(--resource-dim);
     height: var(--resource-dim);
     filter: drop-shadow(1px 4px 2px rgba(0,0,0,.6));
 }
 
 
 .resource.red
 {
     background: url(img/resource_tokens_small.png) 0 0 no-repeat;
 }
 
 .resource.yellow
 {
     background: url(img/resource_tokens_small.png) calc(var(--resource-dim) * -1) 0 no-repeat;
 }
 
 .resource.green
 {
     background: url(img/resource_tokens_small.png) calc(var(--resource-dim) * -2) 0 no-repeat;
 }
 
 .resource.blue
 {
     background: url(img/resource_tokens_small.png) calc(var(--resource-dim) * -3) 0 no-repeat;
 }
 
 .resource.highlighted.red
 {
     background: url(img/resource_tokens_highlighted_small.png) 0 0 no-repeat;
 }
 
 .resource.highlighted.yellow
 {
     background: url(img/resource_tokens_highlighted_small.png) calc(var(--resource-dim-highlighted) * -1) 0 no-repeat;
 }
 
 .resource.highlighted.green
 {
     background: url(img/resource_tokens_highlighted_small.png) calc(var(--resource-dim-highlighted) * -2) 0 no-repeat;
 }
 
 .resource.highlighted.blue
 {
     background: url(img/resource_tokens_highlighted_small.png) calc(var(--resource-dim-highlighted) * -3) 0 no-repeat;
 }
 
 .resourceContainer {
     display: flex;
     justify-content: center;
     align-items: center;
     flex-direction: row;
     padding: 3px;
 }

 .resourceAmount {
    font-family: "DM Sans", serif;
    font-optical-sizing: auto;
    font-weight: 700;
    font-style: normal;
    text-shadow: 1px 1px 2px rgba(0, 0, 0, 0.5); /* Add a subtle shadow */
    margin-right: 5px;
    margin-top: 5px;
 }

 /* Tableau styles */
 
 .tableauContainer {
     display: block;
     margin-right:10px;
 }
 
 .tableau {
     margin: 10px;
     display: inline-block;
     background-color: #d3d3d3;
     padding: 10px;
     border-radius: 4px;
     width: calc(var(--store-width) + var(--board-dim) + 12px);
 }
 
 .cardRow.tableauCardContainer {
     align-items: left;
     justify-content: left;
 }
 
 .tableauLabel {
     font-family: "DM Sans", serif;
     font-optical-sizing: auto;
     font-weight: 700;
     font-style: normal;
     text-shadow: 1px 1px 2px rgba(0, 0, 0, 0.5); /* Add a subtle shadow */
     color:white;
     padding-left: 10px;
     padding-right: 10px;
     padding-top: 2px;
     padding-bottom: 2px;
     border-radius: 4px;
     display: inline-block;
     margin-bottom: 2px;
     border: 1px solid black;
 }
 
 .tableauLabel.red {background-color: red;}
 .tableauLabel.yellow {background-color: yellow; color: black;}
 .tableauLabel.green {background-color: green;}
 .tableauLabel.blue {background-color: blue;}
 
 .cardTarget {
     height:var(--card-height);
     width: var(--card-width);
 }
 
 .card {
     height:var(--card-height);
     width: var(--card-width);
     background: url(img/cards_small.png) 0 0;
     border-radius: 4px;
     filter: drop-shadow(1px 4px 2px rgba(0,0,0,.6));
     transition: transform 0.3s, box-shadow 0.3s, border 0.3s; /* Add transition for smooth effect */
}

 .card.active {
    transform: translateY(-20px);
 }

 .card.exhausted {
    filter: brightness(50%);
 }

.card.highlighted {
    border: 2px solid #00ff00; /* Highlight border color */
    box-shadow: 0 0 15px rgba(0, 255, 0, 0.8); /* Highlight glow effect */
    transform: translateY(-20px) scale(1.15); /* Slightly enlarge the card */
}
 
 .actionBoard {
     position: relative;
     height:var(--action-board-height);
     width: var(--action-board-width);
     background: url(img/action_board.png) 0 0;
     border-radius: 4px;
     margin-bottom:5px;
     filter: drop-shadow(1px 4px 2px rgba(0,0,0,.6));
 }
 
 .actionBoardSelectionTarget {
     position: absolute;
     height:var(--action-board-selection-dim);
     width: var(--action-board-selection-dim);
 }

 .actionBoardSelectionTarget.selected {background-color: red;}

 @keyframes rotate {
	100% {
		transform: rotate(1turn);
	}
}

.legalMove {
	position: relative;
	z-index: 0;
	width: var(--tile-dim);
	height: var(--tile-dim);
	overflow: hidden;
	padding: 2rem;
	
	&::before {
		content: '';
		position: absolute;
		z-index: -2;
		left: -50%;
		top: -50%;
		width: 200%;
		height: 200%;
		background-color: #399953;
		background-repeat: no-repeat;
		background-size: 50% 50%, 50% 50%;
		background-position: 0 0, 100% 0, 100% 100%, 0 100%;
		background-image: linear-gradient(#399953, #399953), linear-gradient(#fbb300, #fbb300), linear-gradient(#d53e33, #d53e33), linear-gradient(#377af5, #377af5);
		animation: rotate 4s linear infinite;
	}

    &::after {
		content: '';
		position: absolute;
		z-index: -1;
		left: 6px;
		top: 6px;
		width: calc(100% - 12px);
		height: calc(100% - 12px);
		background : inherit;
		border-radius: 5px;
	}
}



